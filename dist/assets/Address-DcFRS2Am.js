import{_ as U,l as $,r as _,u as B,q as H,c as r,g as k,b as e,t as d,e as j,h as q,F as v,s as M,w as F,d as n,N as V,v as h,P as I,i as L,o as c,y as R,p as D,k as T,j as z}from"./index-DpLPiwrG.js";const a=u=>(D("data-v-a1ef0042"),u=u(),T(),u),O={class:"customer-section"},P={class:"container"},E={class:"dashboard-user mb-5"},G=a(()=>e("div",{class:"dashboard-user__icon"},[e("i",{class:"bi bi-person"})],-1)),J=a(()=>e("p",null,"Hello,",-1)),K={class:"text-capitalize"},Q={class:"address"},W={class:"order-head justify-content-between mb-4"},X={class:"d-flex align-items-center gap-2"},Y=a(()=>e("i",{class:"bi bi-arrow-left"},null,-1)),Z=a(()=>e("h3",null,"Address Book",-1)),ee=a(()=>e("button",{type:"button",class:"secondary-button","data-bs-toggle":"modal","data-bs-target":"#exampleModal"},[e("div",{class:"d-flex align-items-center"},[e("i",{class:"bi bi-plus text-white"}),z(" Add New Address ")])],-1)),se={class:"checkout__shipping-add bg-transparent p-0"},te={class:"d-flex flex-wrap created-address"},le={for:"add-1",class:"w-100 p-5"},ae={class:"mb-2"},oe={class:"mb-2"},de={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},ne={class:"modal-dialog modal-dialog-centered"},ie={class:"modal-content"},re=a(()=>e("div",{class:"modal-header"},[e("h3",null,"Add New Address"),e("button",{type:"button","data-bs-dismiss":"modal","aria-label":"Close"},[e("i",{class:"bi bi-x-lg secondary-color fs-3"})])],-1)),ce={class:"modal-body"},ue={class:"d-flex align-items-center gap-2"},pe=a(()=>e("label",{for:"home",class:"text-uppercase address-label"},"Home",-1)),_e=a(()=>e("label",{for:"office",class:"text-uppercase address-label"},"Office",-1)),me={class:""},ve={class:"w-100"},he=a(()=>e("option",{value:"null",selected:"",disabled:""},"Select Area",-1)),be=["value"],fe={class:"d-flex align-items-center justify-content-between"},ye={class:"w-100 w-lg-50 pe-2"},ge={class:"w-100 w-lg-50 ps-2"},we=a(()=>e("div",{class:"d-flex align-items-center justify-content-end gap-3 mt-4"},[e("button",{class:"secondary-button rounded-0 border-0",type:"reset","data-bs-dismiss":"modal","aria-label":"Close"},"Cancel"),e("button",{class:"secondary-button text-uppercase px-5",type:"submit"},"Save")],-1)),xe={__name:"Address",setup(u){const{loading:Ae,error:ke,sendRequest:m}=$(),S=_(!1),i=B(),t=_({title:"Home",email:null,phone:null,address:null,area:null}),N=async()=>{var o;t.value.address===null?$toast.error("Address field is required"):t.value.area===null?$toast.error("Area field is required"):(await m({method:"post",data:{user_id:(o=i==null?void 0:i.user)==null?void 0:o.id,...t.value},url:"/api/save-new-address"}),await y(),S.value=!0,C())},C=()=>{t.value.title="Home",t.value.address=null,t.value.area=null,t.value.email=null,t.value.phone=null},b=_(null),f=_(null),y=async()=>{var p;const o=await i.getToken(),l=await m({method:"get",url:"/api/address",headers:{Authorization:`Bearer ${o}`}});b.value=(p=l==null?void 0:l.data)==null?void 0:p.addresses};return H(async()=>{await y();const o=await m({method:"get",url:"/api/all-areas"});f.value=o==null?void 0:o.data}),(o,l)=>{var g,w;const p=L("RouterLink");return c(),r(v,null,[k(R,{category:!1}),e("section",O,[e("div",P,[e("div",E,[G,e("div",null,[J,e("h3",K,d((w=(g=j(i))==null?void 0:g.user)==null?void 0:w.full_name),1)])]),e("div",Q,[e("div",W,[e("div",X,[k(p,{to:"/customer/dashboard"},{default:q(()=>[Y]),_:1}),Z]),ee]),e("div",se,[e("div",te,[(c(!0),r(v,null,M(b.value,s=>{var x,A;return c(),r("div",{class:"col-md-6 col-12 p-3",key:`area-${s.id}`},[e("label",le,[e("h3",null,d(s==null?void 0:s.title),1),e("div",null,[e("p",ae,d(s==null?void 0:s.address),1),e("p",null,d(s==null?void 0:s.email),1),e("p",oe,d(s==null?void 0:s.phone),1),e("p",null,"Area: "+d((x=s==null?void 0:s.order_area)==null?void 0:x.area_name)+" & Delivery Charge: "+d((A=s==null?void 0:s.order_area)==null?void 0:A.delivery_charge)+" à§³",1)])])])}),128))])])])])]),e("div",de,[e("div",ne,[e("div",ie,[re,e("div",ce,[e("form",{onSubmit:F(N,["prevent"]),class:"d-flex flex-column gap-3"},[e("div",ue,[e("div",null,[n(e("input",{type:"radio",id:"home",name:"address",value:"Home",checked:"",hidden:"","onUpdate:modelValue":l[0]||(l[0]=s=>t.value.title=s)},null,512),[[V,t.value.title]]),pe]),e("div",null,[n(e("input",{type:"radio",id:"office",name:"address",value:"Office",hidden:"","onUpdate:modelValue":l[1]||(l[1]=s=>t.value.title=s)},null,512),[[V,t.value.title]]),_e])]),e("div",me,[n(e("textarea",{rows:"4",type:"text",placeholder:"Address",class:"w-100 rounded secondary-border p-2","onUpdate:modelValue":l[2]||(l[2]=s=>t.value.address=s)},`

              `,512),[[h,t.value.address]])]),e("div",ve,[n(e("select",{"onUpdate:modelValue":l[3]||(l[3]=s=>t.value.area=s),class:"rounded p-2 w-100 secondary-border"},[he,(c(!0),r(v,null,M(f.value,s=>(c(),r("option",{key:`single-i-${s.id}`,value:s.id},d(s==null?void 0:s.area_name),9,be))),128))],512),[[I,t.value.area]])]),e("div",fe,[e("div",ye,[n(e("input",{type:"email",placeholder:"email","onUpdate:modelValue":l[4]||(l[4]=s=>t.value.email=s),class:"rounded p-2 secondary-border w-100"},null,512),[[h,t.value.email]])]),e("div",ge,[n(e("input",{type:"text",placeholder:"Phone Number","onUpdate:modelValue":l[5]||(l[5]=s=>t.value.phone=s),class:"rounded p-2 secondary-border w-100"},null,512),[[h,t.value.phone]])])]),we],32)])])])])],64)}}},Ve=U(xe,[["__scopeId","data-v-a1ef0042"]]);export{Ve as default};

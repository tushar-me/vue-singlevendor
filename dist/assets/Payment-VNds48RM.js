import{_ as x,L as S,x as C,a as P,u as T,l as M,r as w,q as A,c as a,g as q,b as e,d as B,N as D,t as i,e as c,F as O,o as r,y as $,p as R,k as j}from"./index-DpLPiwrG.js";const o=n=>(R("data-v-71b7bc2c"),n=n(),j(),n),z={class:"customer-section"},N={class:"container"},V=o(()=>e("h3",{class:"text-capitalize fw-semibold fs-3"},"Select Your Payment Method",-1)),F={class:"method row flex-wrap mt-5"},L={class:"col-lg-6 mb-3"},Y={class:"row flex-wrap"},E={class:"col-6"},Q=o(()=>e("label",{for:"cash_on_delivery",class:"method-item rounded",role:"button"},[e("i",{class:"bi bi-cash-coin"}),e("p",{class:"text-center"},"Cash On Delivery")],-1)),U=o(()=>e("div",{class:"col-6"},null,-1)),G={class:"col-lg-6 col-md-6 col-12 mb-3"},H={class:"method-item align-items-start"},J=o(()=>e("h3",{class:"text-start fw-semibold"},"Order Summary",-1)),K={class:"w-100 mb-4"},W={class:"d-flex align-items-center justify-content-between mb-3"},X={class:"fs-5"},Z={class:"d-flex align-items-center justify-content-between mb-3"},ee=o(()=>e("p",{class:"fs-5"},"Incluted Delivery Charge ",-1)),te={key:0},se={key:1},oe={class:"d-flex align-items-center justify-content-between"},ae=o(()=>e("p",{class:"fs-3"},"Total Amount",-1)),ce={key:0},re={key:1,class:"fs-3 secondary-color"},ne={__name:"Payment",setup(n){const t=S(),_=C(),h=P(),m=T(),{loading:p,sendRequest:y}=M(),u=w(null),d=w({addressId:_.query.addressId,orders:t.getCartItems,paymentMethod:null,orderTotal:t.getCartTotalPrice}),k=async()=>{const l=await m.getToken();if(!d.value.paymentMethod)$toast.error("Please Select Your Payment Method...");else return await y({url:"/api/save-order",method:"POST",data:d.value,headers:{Authorization:`Bearer ${l}`}}),t.clearCart(),h.push({name:"ordercomplate"})};return A(async()=>{const l=await m.getToken();if(_.query.addressId){const s=await y({method:"get",url:`/api/address/${_.query.addressId}`,headers:{Authorization:`Bearer ${l}`}});u.value=s==null?void 0:s.data}else h.push({name:"checkout",query:{invalidAddressId:!0}})}),(l,s)=>{var v,f,g,b;return r(),a(O,null,[q($,{category:!1}),e("section",z,[e("div",N,[V,e("div",F,[e("div",L,[e("div",Y,[e("div",E,[B(e("input",{type:"radio","onUpdate:modelValue":s[0]||(s[0]=I=>d.value.paymentMethod=I),name:"payment",id:"cash_on_delivery",value:"cod",class:"method-radio"},null,512),[[D,d.value.paymentMethod]]),Q]),U])]),e("div",G,[e("div",H,[J,e("ul",K,[e("li",W,[e("p",X,"Subtotal ("+i(c(t).getCartLength)+" Items Total Of Qty And Prices)",1),e("p",null,"৳ "+i(c(t).getCartTotalPrice),1)]),e("li",Z,[ee,c(p)?(r(),a("p",te,"...")):(r(),a("p",se,i((f=(v=u.value)==null?void 0:v.order_area)==null?void 0:f.delivery_charge)+" ৳",1))]),e("li",oe,[ae,c(p)?(r(),a("p",ce,"...")):(r(),a("p",re,"৳ "+i(parseInt(c(t).getCartTotalPrice)+parseInt((b=(g=u.value)==null?void 0:g.order_area)==null?void 0:b.delivery_charge)),1))])]),e("button",{onClick:k,class:"secondary-button w-100"},"Confirm Order")])])])])])],64)}}},le=x(ne,[["__scopeId","data-v-71b7bc2c"]]);export{le as default};
